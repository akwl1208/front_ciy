<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>jquery: 롤링 예제-내가 푼거2</title>
	<script src="../js/jquery.js"></script>
	<style>
		*{padding: 0; margin: 0;}
		.view{
			width: 300px; height: 50px; border: 2px solid black;
			overflow: hidden; 
			margin: 50px; position: relative;
		}
		ul{list-style: none;}
		.list1{width: 1500px;}
		.list::after{clear: both; content: ''; display: block;}
		.item{
			float: left; width: 300px; height: 50px;
			line-height: 50px; background-color: lightcoral;
		}
	</style>
</head>
<body>
	왼쪽
	<div class="view view1">
		<ul class="list list1">
			<li class="item item1">1</li>
			<li class="item item1">2</li>
			<li class="item item1">3</li>
			<li class="item item1">4</li>
		</ul>
	</div>
	위로:4개
	<div class="view view2">
		<ul class="list list2">
			<li class="item item2">1</li>
			<li class="item item2">2</li>
			<li class="item item2">3</li>
			<li class="item item2">4</li>
		</ul>
	</div>
	위로:5개
	<div class="view view3">
		<ul class="list list3">
			<li class="item item3">1</li>
			<li class="item item3">2</li>
			<li class="item item3">3</li>
			<li class="item item3">4</li>
			<li class="item item3">5</li>
		</ul>
	</div>
	<script>
		$(function () {
			toLeft('.item1',1200, 1500);
			toUp('.item2',100,500);
			toUp('.item3',900,1000);

			function toLeft(selector, animateTime, intervalTime) {
				setInterval(() => {
				if($(selector).first().is(':animated') || $(selector).parents('.view').is(':hover'))
					return;	
					$(selector).first().animate(
					{
						'margin-left' : -$(selector).first().width() + 'px'
					},
					animateTime,
					function(){
						$(this).detach()
									.removeAttr('style')
									.appendTo($(selector).parent());
					}
				)					
			}, intervalTime);
			}
			function toUp(selector, animateTime, intervalTime) {
				setInterval(() => {
					if($(selector).first().is(':animated') || $(selector).parents('.view').is(':hover'))
						return;	
						$(selector).first().animate(
							{
								'margin-top' :	-$(selector).first().height() + 'px'
							},
							animateTime,
							function(){
								$(this).detach()
											.removeAttr('style')
											.appendTo($(selector).parent());
							}
						)			
				}, intervalTime);
			}
		})
	</script>
</body>
</html>