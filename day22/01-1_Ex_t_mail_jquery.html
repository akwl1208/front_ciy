<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>jquery : 메일 체크 예제 - 선생님 풀이</title>
	<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<!-- jQuery library -->
<script src="../js/jquery.js"></script>
<!-- Popper JS -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	<!-- 전체 선택을 체크하면 아래에 있는 모든 메일들이 선택되고,
			 전체선택을 해제하면 아래에 있는 모든 메일들이 체크 해제됨
			 전체 선택되어 있을 때 하나의 메일이라도 체크 해제되면 전체 선택 체크가 해지됨
			 모든 메일을 체크하면 전체 선택이 체크된다 -->
		<!-- 선생님 풀이  -->
	<div class="container">        
		<table class="table table-hover">
			<thead>
				<tr>
					<th width="10%"><input type="checkbox" class="ckeck-all"></th>
					<th width="70%">제목</th>
					<th width="20%">작성자</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><input type="checkbox" class="ckeck"></td>
					<td>Doe</td>
					<td>john@example.com</td>
				</tr>
				<tr>
					<td><input type="checkbox" class="ckeck"></td>
					<td>Moe</td>
					<td>mary@example.com</td>
				</tr>
				<tr>
					<td><input type="checkbox" class="ckeck"></td>
					<td>Dooley</td>
					<td>july@example.com</td>
				</tr>
			</tbody>
		</table>
	</div>
	<script>
		$(function () {
			$('.check-all').click(function () {
				//클릭된 체크박스의 체크 여부 확인
				var checked = $(this).prop('checked');
				//체크 여부를 전체 체크박스에 적용
				$('.check').prop('checked', checked);
			})
			$('.check').click(function () {
				// 클릭된 체크박스가 체크된 상태이면
				if($(this).is(':checked')){
					// 전체가 체크된 상태인지 확인
					var count = $('.check').filter(':checked').length;
					var totalcount = $('.check').length;
					// 전체가 체크됬으면 
					if(totalcount == count){
						//check-all 체크
						$('.check-all').prop('checked', true);
					}
				}
				// 체크가 해제된 상태이면 
				else{
					//check-all 해제
					$('.check-all').prop('checked', false);
				}				
			})
		})
	</script>
</body>
</html>